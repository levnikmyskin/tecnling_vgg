<!DOCTYPE html>
<html lang="en"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <meta charset="UTF-8"/>
    <title>Euporia Champagne - Search document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"/>
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link rel="stylesheet" href="https://maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome-font-awesome.min.css"/>
</h:head>
<h:body>
    <ui:composition template="ui_template/navbar.xhtml">
        <ui:define name="search-nav">
            <li class="nav-item active">
                <h:link outcome="doc_search" class="nav-link">Search document <i class="fa fa-search"/></h:link>
            </li>
        </ui:define>

        <ui:define name="main_content">
            <div class="row mt-3">
                <div class="col-12">
                    <h2>Euporia's search page <i class="fa fa-search"/></h2>
                    <h:form id="docSearchForm" method="post">
                        <div class="input-group pb-3">
                            <h:inputText class="form-control" placeholder="Search..." id="searchText" value="#{docSearchBean.searchString}"/>
                            <h:commandButton type="submit" class="btn btn-primary" value="Search" action="#{docSearchBean.doSearch}">
                                <f:ajax execute="@form" render="docTable"/>
                            </h:commandButton>
                        </div>

                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="byAuthorRadio" name="radioGroup" value="#{docSearchBean.byAuthor}" class="custom-control-input" checked="checked"/>
                            <label class="custom-control-label" for="byAuthorRadio">By author</label>
                        </div>

                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="byTitle" name="radioGroup" class="custom-control-input" value="#{docSearchBean.byTitle}"/>
                            <label class="custom-control-label" for="byTitle">By title</label>
                        </div>

                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="byLang" name="radioGroup" class="custom-control-input" value="#{docSearchBean.byLang}"/>
                            <label class="custom-control-label" for="byLang">By lang</label>
                        </div>

                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="byYear" name="radioGroup" class="custom-control-input" value="#{docSearchBean.byYear}"/>
                            <label class="custom-control-label" for="byYear">By year</label>
                        </div>

                        <div class="custom-control custom-radio custom-control-inline">
                            <input type="radio" id="byEditionType" name="radioGroup" class="custom-control-input" value="#{docSearchBean.byEditionType}"/>
                            <label class="custom-control-label" for="byEditionType">By edition type</label>
                        </div>
                    </h:form>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col-12">
                    <h:panelGroup id="docTable">
                        <h:dataTable value="#{docSearchBean.documents}" var="document"
                                     styleClass="table"
                                     rendered="#{not empty docSearchBean.documents}">

                            <h:column>
                                <f:facet name="header">Title</f:facet>
                                #{document.title}
                            </h:column>

                            <h:column>
                                <f:facet name="header">Author</f:facet>
                                #{document.author}
                            </h:column>

                            <h:column>
                                <f:facet name="header">Edition</f:facet>
                                #{document.edition}
                            </h:column>

                            <h:column>
                                <f:facet name="header">Edition type</f:facet>
                                #{document.editionType}
                            </h:column>

                            <h:column>
                                <f:facet name="header">Language</f:facet>
                                #{document.language}
                            </h:column>

                            <h:column>
                                <h:link class="btn btn-outline-primary" outcome="#">View</h:link>
                            </h:column>
                        </h:dataTable>
                    </h:panelGroup>
                </div>
            </div>
        </ui:define>
    </ui:composition>
</h:body>
</html>